# yaml-language: $schema=./node_modules/envio/evm.schema.json
name: beamr-envio
contracts:
  - name: BeamR
    handler: src/BeamR.ts
    events:
    - event: Initialized(bytes32 adminRole, bytes32 rootAdminRole)
    - event: PoolCreated(address pool, address token, (bool,bool) config, (address,uint128)[] members, address creator, bytes32 poolAdminRole, (uint256,string) metadata)
    - event: PoolMetadataUpdated(address pool, (uint256,string) metadata)
    - event: RoleAdminChanged(bytes32 indexed role, bytes32 indexed previousAdminRole, bytes32 indexed newAdminRole)
    - event: RoleGranted(bytes32 indexed role, address indexed account, address indexed sender)
    - event: RoleRevoked(bytes32 indexed role, address indexed account, address indexed sender)
    - event: MemberUnitsUpdated((address, uint128)[] members, address[] poolAddresses, uint8 action, (uint256, string) metadata);
  - name: GDA
    handler: src/GDA.ts
    events: 
    - event: FlowDistributionUpdated(address indexed token,address indexed pool,address indexed distributor,address operator,int96 oldFlowRate,int96 newDistributorToPoolFlowRate,int96 newTotalDistributionFlowRate,address adjustmentFlowRecipient,int96 adjustmentFlowRate,bytes userData)
    - event: PoolConnectionUpdated(address indexed token, address indexed pool, address indexed account, bool isConnected, bytes userData)
  - name: SuperfluidPool
    handler: src/SuperfluidPool.ts
    events:
    - event: MemberUnitsUpdated(address indexed token, address indexed member, uint128 oldUnits, uint128 newUnits)
    - event: DistributionClaimed(address indexed token, address indexed member, uint128 amount, uint128 units, uint256 timestamp)
unordered_multichain_mode: true
# preload_handlers: true
field_selection: 
  transaction_fields:
    - from
    - hash
networks:
  - id: 84532
    start_block: 32608756
    contracts:
      - name: BeamR
        address:
        - 0x74A7b2e23D690467E26E86220B9B5b081E5282cb
      - name: GDA
        address:
        - 0x53F4f44C813Dc380182d0b2b67fe5832A12B97f8  
      - name: SuperfluidPool  
  